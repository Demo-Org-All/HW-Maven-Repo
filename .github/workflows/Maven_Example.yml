name: CI with Maven

on:
  push:
    branches: [ master ]
  
jobs:
  Maven_Build_Deploy:
    runs-on: self-hosted
    steps:
         - uses: actions/checkout@v2
         - name: Build with Maven
           run: mvn clean install
           
         - name: Upload a Build Artifact
           uses: actions/upload-artifact@v2.3.1
           with:
             name: assets-for-upload
             path: target/*.war
             retention-days: 5
         - name: Download a Build Artifact
           uses: actions/download-artifact@v2.1.0
           with:
             name: assets-for-upload
             # Destination path
             path: e:\temp\rel
       
